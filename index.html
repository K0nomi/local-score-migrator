<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta content="Local Score Migrator" property="og:title">
    <meta content="Konomi" property="og:site_name">
    <meta content="A tool to transfer local scores between different versions of osu maps" property="og:description">
    <meta content="website" property="og:type">
    <meta content="#8866dd" data-react-helmet="true" name="theme-color">
    
    <link rel="stylesheet" href="styles.css">

    <title>Local Score Migrator</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <a class="back-button" href="../">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="64" height="64" class="arrow-icon">
                    <path fill="currentColor" d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                </svg>
            </a>
            <h1>Local Score Migrator</h1>
        </div>
        <h4>By Konomi</h4>
        
        <p class="subtitle"><i>Transfer local scores between different versions of an osu map. Ideal for when only metadata is changed, like when a map is getting loved.</i></p>

        <!-- Input for Old files -->
        <div class="file-input">
            <label for="oldFolder">Upload old .osu files:</label>
            <input type="file" id="oldFolder" accept=".osu" multiple>
        </div>

        <!-- Input for New files -->
        <div class="file-input">
            <label for="newFolder">Upload new .osu files:</label>
            <input type="file" id="newFolder" accept=".osu" multiple>
        </div>

        <!-- Button to generate hash table -->
        <button id="generateHashTable" disabled>Generate Hash Table</button>

        <!-- Text area to display and edit the hash substitution table -->
        <div class="text-input">
            <label for="hashTable">Hash Substitution Table:</label>
            <textarea id="hashTable"></textarea>
        </div>

        <!-- Input for scores.db -->
        <div class="file-input">
            <label for="scoresDb">Upload scores.db file:</label>
            <input type="file" id="scoresDb" accept=".db">
        </div>

        <!-- Button to apply hash table to scores.db -->
        <button id="applyHashTable" disabled>Apply Hash Substitution</button>
        
        <!-- Output display area -->
        <pre id="output"></pre>
    </div>

    <noscript>
        <div class="noscript-alert">
            <strong>Warning!</strong> It seems that JavaScript is disabled in your browser. Please enable JavaScript for this tool to work.
        </div>
    </noscript>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="score.js"></script>
    <script src="buffer.js"></script>
    <script src="parse.js"></script>
    <script src="script.js"></script>
</body>
</html>
